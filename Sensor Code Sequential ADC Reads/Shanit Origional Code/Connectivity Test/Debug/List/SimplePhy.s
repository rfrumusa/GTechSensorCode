///////////////////////////////////////////////////////////////////////////////
//
// IAR ANSI C/C++ Compiler V7.20.5.7591/W32 for ARM       02/Sep/2018  14:19:41
// Copyright 1999-2014 IAR Systems AB.
//
//    Cpu mode     =  thumb
//    Endian       =  little
//    Source file  =  
//        F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity
//        Test\PLM\Source\Radio\MC1324x\PHY\SimplePhy.c
//    Command line =  
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity
//        Test\PLM\Source\Radio\MC1324x\PHY\SimplePhy.c" -D IAR --preprocess
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Debug\List\" -lC
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Debug\List\" -lB
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Debug\List\"
//        --diag_suppress Pe014,Pe001,Pe991,Pa039,Pe520,Pe550,Pe177,Pa082 -o
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Debug\Obj\" --no_cse
//        --no_unroll --no_inline --no_code_motion --no_tbaa --no_clustering
//        --no_scheduling --debug --endian=little --cpu=Cortex-M4 -e --fpu=None
//        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
//        7.0\arm\INC\c\DLib_Config_Normal.h" -I "F:\Guardrail Work\Sensor
//        Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\PLM\Configure\" -I "F:\Guardrail Work\Sensor
//        Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\PLM\Environment\" -I "F:\Guardrail Work\Sensor
//        Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\PLM\Interface\" -I "F:\Guardrail Work\Sensor
//        Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\Generic Services\Interface\" -I "F:\Guardrail
//        Work\Sensor Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit
//        Origional Code\Connectivity Test\PLM\Source\Uart\" -I "F:\Guardrail
//        Work\Sensor Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit
//        Origional Code\Connectivity Test\PLM\Source\USB\" -I "F:\Guardrail
//        Work\Sensor Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit
//        Origional Code\Connectivity Test\PLM\Source\USB\APP\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity
//        Test\PLM\Source\USB\APP\CDC\" -I "F:\Guardrail Work\Sensor Code\Git
//        Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\PLM\Source\USB\APP\Descriptor\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\USB\Class\"
//        -I "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\USB\Common\"
//        -I "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\USB\Driver\"
//        -I "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\TMR\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity
//        Test\PLM\Source\Radio\MC1324x\PHY\" -I "F:\Guardrail Work\Sensor
//        Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\PLM\Source\Radio\MC1324x\DRV\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\Sys Common\"
//        -I "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\SMAC\Source\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\SMAC\Interface\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\SMAC\Configure\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Application\Source\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Application\Configure\"
//        -I "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\NVM\" -I
//        "C:\Users\Robert\SkyDrive\2018 Spring Semester\Senior Design\Sensor
//        Code\Shanit Origional Code\Connectivity Test\PLM\Source\NVM\" -I
//        "C:\Users\Robert\SkyDrive\2018 Spring Semester\Senior Design\Sensor
//        Code\Shanit Origional Code\Connectivity Test\PLM\Source\ADC\" -I
//        "C:\Users\rfrum\OneDrive\2018 Spring Semester\Senior Design\Sensor
//        Code\Shanit Origional Code\Connectivity Test\PLM\Source\ADC\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\LPM\" -On
//    List file    =  
//        F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Debug\List\SimplePhy.s
//
///////////////////////////////////////////////////////////////////////////////

        #define SHT_PROGBITS 0x1

        EXTERN MC1324xDrv_DirectAccessSPIRead
        EXTERN MC1324xDrv_DirectAccessSPIWrite
        EXTERN MC1324xDrv_IndirectAccessSPIRead
        EXTERN MC1324xDrv_IndirectAccessSPIWrite

        PUBLIC PhyGetRfIcVersion
        PUBLIC PhyHibernateRequest
        PUBLIC PhyPlmeDozeRequest
        PUBLIC PhyWakeRequest
        PUBLIC PhyXtalAdjust

// F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional Code\Connectivity Test\PLM\Source\Radio\MC1324x\PHY\SimplePhy.c
//    1 /*****************************************************************************
//    2  *                               INCLUDED HEADERS                            *
//    3  *---------------------------------------------------------------------------*
//    4  * Add to this section all the headers that this module needs to include.    *
//    5  *---------------------------------------------------------------------------*
//    6  *****************************************************************************/
//    7 
//    8 #include "SimplePhy.h"
//    9 
//   10 
//   11 /*****************************************************************************
//   12  *                               PRIVATE VARIABLES                           *
//   13  *---------------------------------------------------------------------------*
//   14  * Add to this section all the variables and constants that have local       *
//   15  * (file) scope.                                                             *
//   16  * Each of this declarations shall be preceded by the 'static' keyword.      *
//   17  * These variables / constants cannot be accessed outside this module.       *
//   18  *---------------------------------------------------------------------------*
//   19  *****************************************************************************/
//   20 
//   21 
//   22 /*****************************************************************************
//   23  *                               PUBLIC VARIABLES                            *
//   24  *---------------------------------------------------------------------------*
//   25  * Add to this section all the variables and constants that have global      *
//   26  * (project) scope.                                                          *
//   27  * These variables / constants can be accessed outside this module.          *
//   28  * These variables / constants shall be preceded by the 'extern' keyword in  *
//   29  * the interface header.                                                     *
//   30  *---------------------------------------------------------------------------*
//   31  *****************************************************************************/
//   32 
//   33 /*****************************************************************************
//   34  *                           PRIVATE FUNCTIONS PROTOTYPES                    *
//   35  *---------------------------------------------------------------------------*
//   36  * Add to this section all the functions prototypes that have local (file)   *
//   37  * scope.                                                                    *
//   38  * These functions cannot be accessed outside this module.                   *
//   39  * These declarations shall be preceded by the 'static' keyword.             *
//   40  *---------------------------------------------------------------------------*
//   41  *****************************************************************************/
//   42 
//   43 /*****************************************************************************
//   44  *                                PRIVATE FUNCTIONS                          *
//   45  *---------------------------------------------------------------------------*
//   46  * Add to this section all the functions that have local (file) scope.       *
//   47  * These functions cannot be accessed outside this module.                   *
//   48  * These definitions shall be preceded by the 'static' keyword.              *
//   49  *---------------------------------------------------------------------------*
//   50  *****************************************************************************/
//   51 
//   52 /*****************************************************************************
//   53  *                             PUBLIC FUNCTIONS                              *
//   54  *---------------------------------------------------------------------------*
//   55  * Add to this section all the functions that have global (project) scope.   *
//   56  * These functions can be accessed outside this module.                      *
//   57  * These functions shall have their declarations (prototypes) within the     *
//   58  * interface header file and shall be preceded by the 'extern' keyword.      *
//   59  *---------------------------------------------------------------------------*
//   60  *****************************************************************************/
//   61    
//   62 /*---------------------------------------------------------------------------
//   63  * Name: PhyPpSetPromiscuous
//   64  * Description: -
//   65  * Parameters: -
//   66  * Return: -
//   67  *---------------------------------------------------------------------------*/   

        SECTION `.text`:CODE:NOROOT(1)
        THUMB
//   68 void PhyXtalAdjust(uint8_t u8Value)
//   69 {
PhyXtalAdjust:
        PUSH     {R4,LR}
        MOVS     R4,R0
//   70 
//   71    MC1324xDrv_IndirectAccessSPIWrite(XTAL_TRIM,u8Value);
        MOVS     R1,R4
        UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
        MOVS     R0,#+1
        BL       MC1324xDrv_IndirectAccessSPIWrite
//   72 
//   73 }
        POP      {R4,PC}          ;; return
//   74 /*---------------------------------------------------------------------------
//   75  * Name: PhyWakeRequest
//   76  * Description: -
//   77  * Parameters: -
//   78  * Return: -
//   79  *---------------------------------------------------------------------------*/ 

        SECTION `.text`:CODE:NOROOT(1)
        THUMB
//   80 void PhyWakeRequest(void)
//   81 {
PhyWakeRequest:
        PUSH     {R4,LR}
//   82    uint8_t phyPwrModesReg = 0;
        MOVS     R4,#+0
//   83    phyPwrModesReg = MC1324xDrv_DirectAccessSPIRead(PWR_MODES);
        MOVS     R0,#+61
        BL       MC1324xDrv_DirectAccessSPIRead
        MOVS     R4,R0
//   84    phyPwrModesReg |= (0x11);     // IDLE MODE, XTALEN = 1, and PMC_MODE = 1
        ORRS     R4,R4,#0x11
//   85    MC1324xDrv_DirectAccessSPIWrite(PWR_MODES,phyPwrModesReg);
        MOVS     R1,R4
        UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
        MOVS     R0,#+61
        BL       MC1324xDrv_DirectAccessSPIWrite
//   86 }
        POP      {R4,PC}          ;; return
//   87 /*---------------------------------------------------------------------------
//   88  * Name: PhyGetRfIcVersion
//   89  * Description: -
//   90  * Parameters: -
//   91  * Return: -
//   92  *---------------------------------------------------------------------------*/

        SECTION `.text`:CODE:NOROOT(1)
        THUMB
//   93  uint8_t PhyGetRfIcVersion(void)
//   94  {  
PhyGetRfIcVersion:
        PUSH     {R7,LR}
//   95    return MC1324xDrv_IndirectAccessSPIRead(PART_ID);
        MOVS     R0,#+0
        BL       MC1324xDrv_IndirectAccessSPIRead
        POP      {R1,PC}          ;; return
//   96  }
//   97 /*---------------------------------------------------------------------------
//   98  * Name: PhyPlmeDozeRequest
//   99  * Description: -
//  100  * Parameters: -
//  101  * Return: -
//  102  *---------------------------------------------------------------------------*/

        SECTION `.text`:CODE:NOROOT(1)
        THUMB
//  103 void PhyPlmeDozeRequest(uint32_t u32TimeOut)
//  104 {
PhyPlmeDozeRequest:
        PUSH     {R3-R5,LR}
        MOVS     R4,R0
//  105    uint8_t phyPwrModesReg = 0; 
        MOVS     R5,#+0
//  106    (void)u32TimeOut;
//  107    phyPwrModesReg = MC1324xDrv_DirectAccessSPIRead(PWR_MODES);
        MOVS     R0,#+61
        BL       MC1324xDrv_DirectAccessSPIRead
        MOVS     R5,R0
//  108    phyPwrModesReg |= (0x10);  /* XTALEN = 1 */
        ORRS     R5,R5,#0x10
//  109    phyPwrModesReg &= (0xFE);  /* PMC_MODE = 0 */
        ANDS     R5,R5,#0xFE
//  110    MC1324xDrv_DirectAccessSPIWrite(PWR_MODES,phyPwrModesReg);
        MOVS     R1,R5
        UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
        MOVS     R0,#+61
        BL       MC1324xDrv_DirectAccessSPIWrite
//  111 }
        POP      {R0,R4,R5,PC}    ;; return
//  112 /*---------------------------------------------------------------------------
//  113  * Name: PhyHibernateRequest
//  114  * Description: -
//  115  * Parameters: -
//  116  * Return: -
//  117  *---------------------------------------------------------------------------*/

        SECTION `.text`:CODE:NOROOT(1)
        THUMB
//  118 void PhyHibernateRequest(void)
//  119 {
PhyHibernateRequest:
        PUSH     {R4,LR}
//  120    uint8_t phyPwrModesReg = 0;
        MOVS     R4,#+0
//  121    phyPwrModesReg = MC1324xDrv_DirectAccessSPIRead(PWR_MODES);
        MOVS     R0,#+61
        BL       MC1324xDrv_DirectAccessSPIRead
        MOVS     R4,R0
//  122    phyPwrModesReg &= (0xEE);  /* XTALEN = 0, PMC_MODE = 0 */
        ANDS     R4,R4,#0xEE
//  123    MC1324xDrv_DirectAccessSPIWrite(PWR_MODES,phyPwrModesReg);
        MOVS     R1,R4
        UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
        MOVS     R0,#+61
        BL       MC1324xDrv_DirectAccessSPIWrite
//  124 }
        POP      {R4,PC}          ;; return

        SECTION `.iar_vfe_header`:DATA:NOALLOC:NOROOT(2)
        SECTION_TYPE SHT_PROGBITS, 0
        DATA
        DC32 0

        END
// 
// 116 bytes in section .text
// 
// 116 bytes of CODE memory
//
//Errors: none
//Warnings: none
