///////////////////////////////////////////////////////////////////////////////
//
// IAR ANSI C/C++ Compiler V7.20.5.7591/W32 for ARM       02/Sep/2018  13:33:22
// Copyright 1999-2014 IAR Systems AB.
//
//    Cpu mode     =  thumb
//    Endian       =  little
//    Source file  =  
//        F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity
//        Test\PLM\Source\USB\Driver\usb_sim_settings.c
//    Command line =  
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity
//        Test\PLM\Source\USB\Driver\usb_sim_settings.c" -D IAR --preprocess
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Debug\List\" -lC
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Debug\List\" -lB
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Debug\List\"
//        --diag_suppress Pe014,Pe001,Pe991,Pa039,Pe520,Pe550,Pe177,Pa082 -o
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Debug\Obj\" --no_cse
//        --no_unroll --no_inline --no_code_motion --no_tbaa --no_clustering
//        --no_scheduling --debug --endian=little --cpu=Cortex-M4 -e --fpu=None
//        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
//        7.0\arm\INC\c\DLib_Config_Normal.h" -I "F:\Guardrail Work\Sensor
//        Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\PLM\Configure\" -I "F:\Guardrail Work\Sensor
//        Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\PLM\Environment\" -I "F:\Guardrail Work\Sensor
//        Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\PLM\Interface\" -I "F:\Guardrail Work\Sensor
//        Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\Generic Services\Interface\" -I "F:\Guardrail
//        Work\Sensor Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit
//        Origional Code\Connectivity Test\PLM\Source\Uart\" -I "F:\Guardrail
//        Work\Sensor Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit
//        Origional Code\Connectivity Test\PLM\Source\USB\" -I "F:\Guardrail
//        Work\Sensor Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit
//        Origional Code\Connectivity Test\PLM\Source\USB\APP\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity
//        Test\PLM\Source\USB\APP\CDC\" -I "F:\Guardrail Work\Sensor Code\Git
//        Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\PLM\Source\USB\APP\Descriptor\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\USB\Class\"
//        -I "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\USB\Common\"
//        -I "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\USB\Driver\"
//        -I "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\TMR\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity
//        Test\PLM\Source\Radio\MC1324x\PHY\" -I "F:\Guardrail Work\Sensor
//        Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional
//        Code\Connectivity Test\PLM\Source\Radio\MC1324x\DRV\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\Sys Common\"
//        -I "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\SMAC\Source\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\SMAC\Interface\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\SMAC\Configure\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Application\Source\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\Application\Configure\"
//        -I "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\NVM\" -I
//        "C:\Users\Robert\SkyDrive\2018 Spring Semester\Senior Design\Sensor
//        Code\Shanit Origional Code\Connectivity Test\PLM\Source\NVM\" -I
//        "C:\Users\Robert\SkyDrive\2018 Spring Semester\Senior Design\Sensor
//        Code\Shanit Origional Code\Connectivity Test\PLM\Source\ADC\" -I
//        "C:\Users\rfrum\OneDrive\2018 Spring Semester\Senior Design\Sensor
//        Code\Shanit Origional Code\Connectivity Test\PLM\Source\ADC\" -I
//        "F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity Test\PLM\Source\LPM\" -On
//    List file    =  
//        F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC
//        Reads\Shanit Origional Code\Connectivity
//        Test\Debug\List\usb_sim_settings.s
//
///////////////////////////////////////////////////////////////////////////////

        #define SHT_PROGBITS 0x1

        EXTERN NVIC_ClearPendingIRQ
        EXTERN NVIC_EnableIRQ

        PUBLIC USB_SIM_Settings
        PUBLIC USB_SIM_UsbIntDisable
        PUBLIC USB_SIM_UsbIntEnable

// F:\Guardrail Work\Sensor Code\Git Repo\Sensor Code Sequential ADC Reads\Shanit Origional Code\Connectivity Test\PLM\Source\USB\Driver\usb_sim_settings.c
//    1 /******************************************************************************
//    2  *
//    3  * Freescale Semiconductor Inc.
//    4  * (c) Copyright 2004-2010 Freescale Semiconductor, Inc.
//    5  * ALL RIGHTS RESERVED.
//    6  *
//    7  ******************************************************************************
//    8  *
//    9  * THIS SOFTWARE IS PROVIDED BY FREESCALE "AS IS" AND ANY EXPRESSED OR
//   10  * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
//   11  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
//   12  * IN NO EVENT SHALL FREESCALE OR ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
//   13  * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
//   14  * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
//   15  * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
//   16  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
//   17  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
//   18  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
//   19  * THE POSSIBILITY OF SUCH DAMAGE.
//   20  *
//   21  **************************************************************************//*!
//   22  *
//   23  * @file main_kinetis.c
//   24  *
//   25  * @author
//   26  *
//   27  * @version
//   28  *
//   29  * @date
//   30  *
//   31  * @brief   This software is the USB driver stack for S08 family
//   32  *****************************************************************************/
//   33 #include "EmbeddedTypes.h"
//   34 #include "PortConfig.h"
//   35 #include "USB_Interface.h"
//   36 #include "usb_sim_settings.h"
//   37 #include "SMAC.h"
//   38 
//   39 /*****************************************************************************
//   40  * Global Functions Prototypes
//   41  *****************************************************************************/
//   42 
//   43 
//   44 
//   45 
//   46 #if gUsbIncluded_d
//   47 /*****************************************************************************
//   48  *
//   49  *    @name     USB_SIM_Settings
//   50  *
//   51  *    @brief    This function Initializes USB module
//   52  *
//   53  *    @param    None
//   54  *
//   55  *    @return   None
//   56  *
//   57  ***************************************************************************/

        SECTION `.text`:CODE:NOROOT(1)
        THUMB
//   58 void USB_SIM_Settings(void)
//   59 {
USB_SIM_Settings:
        PUSH     {R7,LR}
//   60 
//   61   SIM_CLKDIV2 &= (uint32_t)(~(SIM_CLKDIV2_USBFRAC_MASK | SIM_CLKDIV2_USBDIV_MASK));
        LDR.N    R0,??DataTable2  ;; 0x40048048
        LDR      R0,[R0, #+0]
        LSRS     R0,R0,#+4
        LSLS     R0,R0,#+4
        LDR.N    R1,??DataTable2  ;; 0x40048048
        STR      R0,[R1, #+0]
//   62   /* Configure USBFRAC = 0, USBDIV = 0 => frq(USBout) = 1 / 1 * frq(PLLin) */
//   63   SIM_CLKDIV2 = SIM_CLKDIV2_USBDIV(0);
        MOVS     R0,#+0
        LDR.N    R1,??DataTable2  ;; 0x40048048
        STR      R0,[R1, #+0]
//   64   /*  Configure USB to be clocked from PLL */
//   65   SIM_SOPT2 |= SIM_SOPT2_USBSRC_MASK | SIM_SOPT2_PLLFLLSEL_MASK;
        LDR.N    R0,??DataTable2_1  ;; 0x40048004
        LDR      R0,[R0, #+0]
        ORRS     R0,R0,#0x50000
        LDR.N    R1,??DataTable2_1  ;; 0x40048004
        STR      R0,[R1, #+0]
//   66   /*  Enable USB-OTG IP clocking */
//   67   SIM_SCGC4 |= (SIM_SCGC4_USBOTG_MASK);
        LDR.N    R0,??DataTable2_2  ;; 0x40048034
        LDR      R0,[R0, #+0]
        ORRS     R0,R0,#0x40000
        LDR.N    R1,??DataTable2_2  ;; 0x40048034
        STR      R0,[R1, #+0]
//   68   /* old documentation writes setting this bit is mandatory */
//   69   USB0_USBTRC0 = 0x40;
        MOVS     R0,#+64
        LDR.N    R1,??DataTable2_3  ;; 0x4007210c
        STRB     R0,[R1, #+0]
//   70   SIM_SOPT1CFG |= SIM_SOPT1CFG_URWE_MASK;
        LDR.N    R0,??DataTable2_4  ;; 0x40047004
        LDR      R0,[R0, #+0]
        ORRS     R0,R0,#0x1000000
        LDR.N    R1,??DataTable2_4  ;; 0x40047004
        STR      R0,[R1, #+0]
//   71   /* Configure enable USB regulator for device */
//   72   SIM_SOPT1 |= SIM_SOPT1_USBREGEN_MASK;	// enable usb voltage regulator
        LDR.N    R0,??DataTable2_5  ;; 0x40047000
        LDR      R0,[R0, #+0]
        ORRS     R0,R0,#0x80000000
        LDR.N    R1,??DataTable2_5  ;; 0x40047000
        STR      R0,[R1, #+0]
//   73   NVIC_ClearPendingIRQ(gUSBOTG_IntNo_c);
        MOVS     R0,#+53
        BL       NVIC_ClearPendingIRQ
//   74   NVIC_EnableIRQ(gUSBOTG_IntNo_c);
        MOVS     R0,#+53
        BL       NVIC_EnableIRQ
//   75 }
        POP      {R0,PC}          ;; return
//   76 
//   77 /*****************************************************************************
//   78  *
//   79  *    @name     USB_SIM_UsbIntEnable
//   80  *
//   81  *    @brief    This function Initializes USB module
//   82  *
//   83  *    @param    None
//   84  *
//   85  *    @return   None
//   86  *
//   87  ***************************************************************************/

        SECTION `.text`:CODE:NOROOT(1)
        THUMB
//   88 void USB_SIM_UsbIntEnable(void)
//   89 {
//   90 uint8_t iserIndex;
//   91 uint32_t iserIntVal;
//   92 iserIndex = gUSBOTG_IntNo_c/32;
USB_SIM_UsbIntEnable:
        MOVS     R2,#+1
        MOVS     R0,R2
//   93 iserIntVal = 1<<(gUSBOTG_IntNo_c%32);
        MOVS     R2,#+2097152
        MOVS     R1,R2
//   94 NVIC_ISER_REG(NVIC_BASE_PTR,iserIndex) = iserIntVal;
        LDR.N    R2,??DataTable2_6  ;; 0xe000e100
        UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
        STR      R1,[R2, R0, LSL #+2]
//   95 }
        BX       LR               ;; return
//   96 /*****************************************************************************
//   97  *
//   98  *    @name     USB_SIM_UsbIntDisable
//   99  *
//  100  *    @brief    This function Initializes USB module
//  101  *
//  102  *    @param    None
//  103  *
//  104  *    @return   None
//  105  *
//  106  ***************************************************************************/

        SECTION `.text`:CODE:NOROOT(1)
        THUMB
//  107 void USB_SIM_UsbIntDisable(void)
//  108 {
//  109 uint8_t icerIndex;
//  110 uint32_t icerIntVal;
//  111 icerIndex = gUSBOTG_IntNo_c/32;
USB_SIM_UsbIntDisable:
        MOVS     R2,#+1
        MOVS     R0,R2
//  112 icerIntVal = 1<<(gUSBOTG_IntNo_c%32);
        MOVS     R2,#+2097152
        MOVS     R1,R2
//  113 NVIC_ICER_REG(NVIC_BASE_PTR,icerIndex) = icerIntVal;
        LDR.N    R2,??DataTable2_7  ;; 0xe000e180
        UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
        STR      R1,[R2, R0, LSL #+2]
//  114 }
        BX       LR               ;; return

        SECTION `.text`:CODE:NOROOT(2)
        SECTION_TYPE SHT_PROGBITS, 0
        DATA
??DataTable2:
        DC32     0x40048048

        SECTION `.text`:CODE:NOROOT(2)
        SECTION_TYPE SHT_PROGBITS, 0
        DATA
??DataTable2_1:
        DC32     0x40048004

        SECTION `.text`:CODE:NOROOT(2)
        SECTION_TYPE SHT_PROGBITS, 0
        DATA
??DataTable2_2:
        DC32     0x40048034

        SECTION `.text`:CODE:NOROOT(2)
        SECTION_TYPE SHT_PROGBITS, 0
        DATA
??DataTable2_3:
        DC32     0x4007210c

        SECTION `.text`:CODE:NOROOT(2)
        SECTION_TYPE SHT_PROGBITS, 0
        DATA
??DataTable2_4:
        DC32     0x40047004

        SECTION `.text`:CODE:NOROOT(2)
        SECTION_TYPE SHT_PROGBITS, 0
        DATA
??DataTable2_5:
        DC32     0x40047000

        SECTION `.text`:CODE:NOROOT(2)
        SECTION_TYPE SHT_PROGBITS, 0
        DATA
??DataTable2_6:
        DC32     0xe000e100

        SECTION `.text`:CODE:NOROOT(2)
        SECTION_TYPE SHT_PROGBITS, 0
        DATA
??DataTable2_7:
        DC32     0xe000e180

        SECTION `.iar_vfe_header`:DATA:NOALLOC:NOROOT(2)
        SECTION_TYPE SHT_PROGBITS, 0
        DATA
        DC32 0

        END
//  115 #endif
//  116 /* EOF */
// 
// 160 bytes in section .text
// 
// 160 bytes of CODE memory
//
//Errors: none
//Warnings: none
